{
  include required("../snippets/activity-general-form.conf"),
  "studyGuid": "RAREX",
  "activityCode": "PREQUAL",
  "versionTag": "v1",
  "displayOrder": 1,
  "writeOnce": true,
  "maxInstancesPerUser": 1,
  "excludeFromDisplay": true,
  "allowUnauthenticated": true,
  "translatedNames": [
    {
      "language": "en",
      "text": "Prequalifier Survey"
    }
  ],
  "translatedTitles": [
    {
      "language": "en",
      "text": ""
    }
  ],
  "sections": [
    {
      "nameTemplate": null,
      "icons": [],
      "blocks": [
        {
          "question": {
            include required( "../snippets/picklist-question-single-list.conf"),
            "stableId": "PREQUAL_SELF_DESCRIBE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "$prompt_PREQUAL_SELF_DESCRIBE",
              "variables": [
                {
                  "name": "prompt_PREQUAL_SELF_DESCRIBE",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.prequal_self_describe}
                    }
                  ]
                }
              ]
            },
            "picklistOptions": [
              {
                "stableId": "DIAGNOSED",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_SELF_DESCRIBE_diagnosed",
                  "variables": [
                    {
                      "name": "PREQUAL_SELF_DESCRIBE_diagnosed",
                      "translations": [
                        {
                          "language": "en",
                          "text": "As a person with a rare disorder"
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              },
              {
                "stableId": "CHILD_DIAGNOSED",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_SELF_DESCRIBE_child_diagnosed",
                  "variables": [
                    {
                      "name": "PREQUAL_SELF_DESCRIBE_child_diagnosed",
                      "translations": [
                        {
                          "language": "en",
                          "text": "As a parent or guardian of a patient who has been diagnosed with a rare disorder"
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              },
              {
                "stableId": "PASSED_AWAY",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_SELF_DESCRIBE_passed_away",
                  "variables": [
                    {
                      "name": "PREQUAL_SELF_DESCRIBE_passed_away",
                      "translations": [
                        {
                          "language": "en",
                          "text": "As a person who has lost a loved one to a rare disorder"
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              }
            ],
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_SELF_DESCRIBE_req_hint",
                  "variables": [
                    {
                      "name": "PREQUAL_SELF_DESCRIBE_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": "Please choose one of the above options."
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        }
      ]
    },
    {
      "nameTemplate": null,
      "icons": [],
      "blocks": [
        {
          "question": {
            include required( "../snippets/numeric-question.conf"),
            "stableId": "SELF_CURRENT_AGE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prompt_CURRENT_AGE",
              "variables": [
                {
                  "name": "prompt_CURRENT_AGE",
                  "translations": [
                    {
                      "language": "en",
                      "text": "How old were you on your last birthday?"
                    }
                  ]
                }
              ],
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$placeholder_SELF_CURRENT_AGE",
              "variables": [
                {
                  "name": "placeholder_SELF_CURRENT_AGE",
                  "translations": [
                    {
                      "language": "en",
                      "text": "Enter age"
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "INT_RANGE",
                "min": 0,
                "max": 100,
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$self_current_age_range_hint",
                  "variables": [
                    {
                      "name": "self_current_age_range_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": "Please enter an age between 0 and 100"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "ruleType": "REQUIRED",
                "allowSave": true,
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$self_current_age_req_hint",
                  "variables": [
                    {
                      "name": "self_current_age_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": "Please enter an age between 0 and 100"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-country-required-eligible-first.conf"),
            "stableId": "SELF_COUNTRY",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prompt_COUNTRY",
              "variables": [
                {
                  "name": "prompt_COUNTRY",
                  "translations": [
                    {
                      "language": "en",
                      "text": "Where do you currently live?"
                    }
                  ]
                }
              ]
            }
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-state-required.conf"),
            "stableId": "SELF_STATE",
            "hideNumber": true
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("DIAGNOSED")
            && user.studies["rarex"].forms["PREQUAL"].questions["SELF_COUNTRY"].answers.hasOption("US")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-province-required.conf"),
            "stableId": "SELF_PROVINCE",
            "hideNumber": true
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("DIAGNOSED")
            && user.studies["rarex"].forms["PREQUAL"].questions["SELF_COUNTRY"].answers.hasOption("CA")"""
        },
        {
          "question": {
            include required( "../snippets/numeric-question.conf"),
            "stableId": "CHILD_CURRENT_AGE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prompt_CHILD_CURRENT_AGE",
              "variables": [
                {
                  "name": "prompt_CHILD_CURRENT_AGE",
                  "translations": [
                    {
                      "language": "en",
                      "text": "How old is your child?"
                    }
                  ]
                }
              ],
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$placeholder_CHILD_CURRENT_AGE",
              "variables": [
                {
                  "name": "placeholder_CHILD_CURRENT_AGE",
                  "translations": [
                    {
                      "language": "en",
                      "text": "Enter age"
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "INT_RANGE",
                "min": 0,
                "max": 100,
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$child_current_age_range_hint",
                  "variables": [
                    {
                      "name": "child_current_age_range_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": "Please enter an age between 0 and 100"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "ruleType": "REQUIRED",
                "allowSave": true,
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$child_current_age_req_hint",
                  "variables": [
                    {
                      "name": "child_current_age_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": "Please enter an age between 0 and 100"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-single-list.conf"),
            "stableId": "CHILD_COGNITIVELY_CAPABLE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prequal_child_cognitively_capable",
              "variables": [
                {
                  "name": "prequal_child_cognitively_capable",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.prequal_child_cognitively_capable}
                  }
                  ]
                }
              ]
            },
            "picklistOptions": [
              {
                "stableId": "YES",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$prequal_child_cognitively_capable_yes",
                  "variables": [
                    {
                      "name": "prequal_child_cognitively_capable_yes",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_child_cognitively_capable_yes}
                      }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              },
              {
                "stableId": "NO",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$prequal_child_cognitively_capable_no",
                  "variables": [
                    {
                      "name": "prequal_child_cognitively_capable_no",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_child_cognitively_capable_no}
                      }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              }
            ],
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_CHILD_COGNIVITIVELY_CAPABLE_req_hint",
                  "variables": [
                    {
                      "name": "PREQUAL_CHILD_COGNIVITIVELY_CAPABLE_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-country-required-eligible-first.conf"),
            "stableId": "CHILD_COUNTRY",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prompt_COUNTRY",
              "variables": [
                {
                  "name": "prompt_COUNTRY",
                  "translations": [
                    {
                      "language": "en",
                      "text": "Where does the patient currently live?"
                    }
                  ]
                }
              ]
            }
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-state-required.conf"),
            "stableId": "CHILD_STATE",
            "hideNumber": true
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")
            && user.studies["rarex"].forms["PREQUAL"].questions["CHILD_COUNTRY"].answers.hasOption("US")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-province-required.conf"),
            "stableId": "CHILD_PROVINCE",
            "hideNumber": true
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")
            && user.studies["rarex"].forms["PREQUAL"].questions["CHILD_COUNTRY"].answers.hasOption("CA")"""
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "PRIMARY_DIAGNOSIS",
            "hideNumber": true,
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "",
              "variables": []
            },
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$prequal_child_primary_diagnosis",
              "variables": [
                {
                  "name": "prequal_child_primary_diagnosis",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.prequal_child_primary_diagnosis}
                   }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$prequal_child_primary_diagnosis_req",
                  "variables": [
                    {
                      "name": "prequal_child_primary_diagnosis_req",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_child_primary_diagnosis_req}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED") ||
            user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("DIAGNOSED")"""
        },
        {
          "question": {
            include required("../snippets/picklist-question-single-dropdown.conf"),
            "hideNumber": true,
            "stableId": "PREQUAL_RELATIONSHIP",
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "$prequal_prompt_relationship",
              "variables": [
                {
                  "name": "prequal_prompt_relationship",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.prequal_prompt_relationship}
                    }
                  ]
                }
              ]
            },
            "picklistLabelTemplate": {
              "templateType": "TEXT",
              "templateText": "$prequal_relationship_select_label",
              "variables": [
                {
                  "name": "prequal_relationship_select_label",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.prequal_relationship_select_label}
                    }
                  ]
                }
              ]
            },
            "picklistOptions": [
              {
                "stableId": "PARENT",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$prequal_relationship_parent",
                  "variables": [
                    {
                      "name": "prequal_relationship_parent",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_relationship_parent}
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": true
              },
              {
                "stableId": "GUARDIAN",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$prequal_relationship_guardian",
                  "variables": [
                    {
                      "name": "prequal_relationship_guardian",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_relationship_guardian}
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": true
              }
            ],
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$PREQUAL_RELATIONSHIP_req_hint",
                  "variables": [
                    {
                      "name": "PREQUAL_RELATIONSHIP_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.prequal_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": """user.studies["rarex"].forms["PREQUAL"].questions["PREQUAL_SELF_DESCRIBE"].answers.hasOption("CHILD_DIAGNOSED")"""
        }
      ]
    }
  ]
}
