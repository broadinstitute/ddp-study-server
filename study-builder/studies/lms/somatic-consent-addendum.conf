{
  "nameTemplate": null,
  "icons": [],
  "blocks": [
    {
      "titleTemplate": null,
      "bodyTemplate": {
        "templateType": "HTML",
        "templateText": """<h2>$somatic_title</h2>""",
        "variables": [
          {
            "name": "somatic_title",
            "translations": [
              {
                "language": "en",
                "text": "Consent Form Addendum:<br> Learning About Your Tumor"
              }
            ]
          }
        ]
      },
      "blockType": "CONTENT",
      "shownExpr": """!(user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_COUNTRY"].answers.hasOption("CA") ||
                   user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_STATE"].answers.hasOption("NY")) &&
                   user.studies["cmi-lms"].forms["CONSENT"].questions["CONSENT_TISSUE"].answers.hasTrue()"""
    },
    {
      "listStyleHint": "UPPER_ALPHA",
      "title": null,
      "nested": [
        {include required("snippets/somatic-consent-addendum-introduction.conf")},
        {include required("snippets/somatic-consent-addendum-description.conf")},
        {include required("snippets/somatic-consent-addendum-procedures.conf")},
        {include required("snippets/somatic-consent-addendum-risks.conf")},
        {include required("snippets/somatic-consent-addendum-contact.conf")},
        {include required("snippets/somatic-consent-addendum-documentation.conf")}
      ],
      "blockType": "GROUP",
      "shownExpr": """!(user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_COUNTRY"].answers.hasOption("CA") ||
                   user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_STATE"].answers.hasOption("NY")) &&
                   user.studies["cmi-lms"].forms["CONSENT"].questions["CONSENT_TISSUE"].answers.hasTrue()"""
    },
    {
      "listStyleHint": "NONE",
      "title": {
        "templateType": "HTML",
        "templateText": """<p class="consent-agree bold">$somatic_consent_addendum_election_agree</p>""",
        "variables": [
          {
            "name": "somatic_consent_addendum_election_agree",
            "translations": [
              {
                "language": "en",
                "text": "This is what I agree to:"
              }
            ]
          }
        ]
      },
      "nested": [
        {
          "question": {
            include required("snippets/bool-question-consent-tumor-samples.conf"),
            "stableId": "SOMATIC_CONSENT_TUMOR"
          },
          "blockType": "QUESTION",
          "shownExpr": null
        }
      ],
      "blockType": "GROUP",
      "shownExpr": """!(user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_COUNTRY"].answers.hasOption("CA") ||
                   user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_STATE"].answers.hasOption("NY")) &&
                   user.studies["cmi-lms"].forms["CONSENT"].questions["CONSENT_TISSUE"].answers.hasTrue()"""
    },
    {
      "titleTemplate": null,
      "bodyTemplate": {
        "templateType": "HTML",
        "templateText": """<p>$no_to_consent_agree</p>""",
        "variables": [
          {
            "name": "no_to_consent_agree",
            "translations": [
              {
                "language": "en",
                "text": "Thank you for your participation. We will not share any information about the sequencing of your tumor sample(s) with you."
              }
            ]
          }
        ]
      },
      "blockType": "CONTENT",
      "shownExpr": null,
      "shownExpr": """!(user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_COUNTRY"].answers.hasOption("CA") ||
                   user.studies["cmi-lms"].forms["PREQUAL"].questions["PREQUAL_STATE"].answers.hasOption("NY")) &&
                   user.studies["cmi-lms"].forms["CONSENT"].questions["CONSENT_TISSUE"].answers.hasTrue()"""
    },
    {
      "listStyleHint": "NONE",
      "title": {
        "templateType": "HTML",
        "templateText": """
                        <p class="consent-agree bold">$somatic_consent_addendum_election_signature</p>
                        <p>$somatic_consent_addendum_election_signature_p</p>
                        """,
        "variables": [
          {
            "name": "somatic_consent_addendum_election_signature",
            "translations": [
              {
                "language": "en",
                "text": """
                       My signature below indicates:
                """
              }
            ]
          },
          {
            "name": "somatic_consent_addendum_election_signature_p",
            "translations": [
              {
                "language": "en",
                "text": """
                      -I have had enough time to read the consent addendum and think about continuing to participate in this study;<br>
                      -I have had all of my questions answered to my satisfaction;<br>
                      -I am willing to continue to participate in this study;<br>
                      -I have been told that my continued participation is voluntary and I can withdraw at any time<br>
                """
              }
            ]
          }
        ]
      },
      "nested": [
        {
          "question": {
            include required("snippets/consent-addendum-participant-signature.conf"),
            "stableId": "SOMATIC_CONSENT_PARTICIPANT_SIGNATURE"
          },
          "blockType": "QUESTION",
          "shownExpr": null,
          "shownExpr": """user.studies["cmi-lms"].forms["CONSENT"].questions["SOMATIC_CONSENT_TUMOR"].answers.hasTrue()"""
        },
        {
          "question": {
            include required("snippets/date-question-consent-addendum.conf"),
            "stableId": "SOMATIC_CONSENT_PARTICIPANT_DATE"
          },
          "blockType": "QUESTION",
          "shownExpr": null,
          "shownExpr": """user.studies["cmi-lms"].forms["CONSENT"].questions["SOMATIC_CONSENT_TUMOR"].answers.hasTrue()"""
        },
      ],
      "blockType": "GROUP",
      "shownExpr": null,
      "shownExpr": """
              user.studies["cmi-lms"].forms["CONSENT"].questions["CONSENT_TISSUE"].answers.hasTrue() &&
              user.studies["cmi-lms"].forms["CONSENT"].questions["SOMATIC_CONSENT_TUMOR"].answers.hasTrue()
      """
    }
  ]
}
