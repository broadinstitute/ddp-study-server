{
  include required("../snippets/activity-general-form.conf"),
  "studyGuid": ${id.study},
  "activityCode": ${id.act.release_minor},
  "versionTag": "v1",
  # Note: order is one below release-self so things in dashboard is sorted nicer after age-up.
  "displayOrder": 5,
  "maxInstancesPerUser": 1,
  "translatedNames": [
    { "language": "en", "text": ${i18n.en.release.name} },
    { "language": "es", "text": ${i18n.es.release.name} },
  ],
  "translatedTitles": [
    { "language": "en", "text": ${i18n.en.release.title} },
    { "language": "es", "text": ${i18n.es.release.title} },
  ],
  "translatedSummaries": [
    { "statusCode": "CREATED", "language": "en", "text": ${i18n.en.release_minor.summary_created} },
    { "statusCode": "CREATED", "language": "es", "text": ${i18n.es.release_minor.summary_created} },
    { "statusCode": "IN_PROGRESS", "language": "en", "text": ${i18n.en.release_minor.summary_inprogress} },
    { "statusCode": "IN_PROGRESS", "language": "es", "text": ${i18n.es.release_minor.summary_inprogress} },
    { "statusCode": "COMPLETE", "language": "en", "text": ${i18n.en.release_minor.summary_complete} },
    { "statusCode": "COMPLETE", "language": "es", "text": ${i18n.es.release_minor.summary_complete} },
  ],
  # Note: release for child might become read-only when consent/assent is suspended at age-up.
  "readonlyHintTemplate": {
    "templateType": "HTML",
    "templateCode": null,
    "templateText": """<p class="no-margin">$hint</p>""",
    "variables": [
      {
        "name": "hint",
        "translations": [
          { "language": "en", "text": ${i18n.en.readonly_hint} },
          { "language": "es", "text": ${i18n.es.readonly_hint} },
        ]
      }
    ]
  },
  "introduction": {
    "nameTemplate": null,
    "icons": [],
    "blocks": [
      {
        "titleTemplate": null,
        "bodyTemplate": {
          "templateType": "HTML",
          "templateCode": null,
          "templateText": """
            <p>$intro1</p>
            <p>$intro2</p>
            <ul class="simple-list">
              <li><p>$intro2_1</p></li>
              <li><p>$intro2_2</p></li>
            </ul>
            <p>$intro3</p>
          """,
          "variables": [
            {
              "name": "intro1",
              "translations": [
                { "language": "en", "text": ${i18n.en.release_minor.intro1} },
                { "language": "es", "text": ${i18n.es.release_minor.intro1} },
              ]
            },
            {
              "name": "intro2",
              "translations": [
                { "language": "en", "text": ${i18n.en.release.intro2} },
                { "language": "es", "text": ${i18n.es.release.intro2} },
              ]
            },
            {
              "name": "intro2_1",
              "translations": [
                { "language": "en", "text": ${i18n.en.release_minor.intro2_1} },
                { "language": "es", "text": ${i18n.es.release_minor.intro2_1} },
              ]
            },
            {
              "name": "intro2_2",
              "translations": [
                { "language": "en", "text": ${i18n.en.release_minor.intro2_2} },
                { "language": "es", "text": ${i18n.es.release_minor.intro2_2} },
              ]
            },
            {
              "name": "intro3",
              "translations": [
                { "language": "en", "text": ${i18n.en.release_minor.intro3} },
                { "language": "es", "text": ${i18n.es.release_minor.intro3} },
              ]
            },
          ]
        },
        "blockType": "CONTENT",
        "shownExpr": null
      }
    ]
  },
  "closing": {
    "nameTemplate": null,
    "icons": [],
    "blocks": [
      {
        "titleTemplate": null,
        "bodyTemplate": {
          "templateType": "HTML",
          "templateText": """<p class="ddp-content__agreement only-margin-top extra-margin-top">$agree</p>""",
          "variables": [
            {
              "name": "agree",
              "translations": [
                { "language": "en", "text": ${i18n.en.release_minor.agree_statement} },
                { "language": "es", "text": ${i18n.es.release_minor.agree_statement} },
              ]
            }
          ]
        },
        "blockType": "CONTENT",
        "shownExpr": null
      },
      {
        "question": {
          "questionType": "AGREEMENT",
          "stableId": ${id.q.release_minor_agreement},
          "hideNumber": true,
          "promptTemplate": {
            "templateType": "HTML",
            "templateText": "<span>$prompt</span>",
            "variables": [
              {
                "name": "prompt",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release_minor.agree_prompt} },
                  { "language": "es", "text": ${i18n.es.release_minor.agree_prompt} },
                ]
              }
            ]
          },
          "validations": [
            {
              "ruleType": "REQUIRED",
              "hintTemplate": {
                "templateType": "TEXT",
                "templateText": "$hint",
                "variables": [
                  {
                    "name": "hint",
                    "translations": [
                      { "language": "en", "text": ${i18n.en.release.agree_hint_req} },
                      { "language": "es", "text": ${i18n.es.release.agree_hint_req} },
                    ]
                  }
                ]
              }
            }
          ]
        },
        "blockType": "QUESTION",
        "shownExpr": null
      }
    ]
  },
  "sections": [
    {
      "nameTemplate": null,
      "icons": [],
      "blocks": [
        {
          "titleTemplate": null,
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": """<p><strong>$instruction</strong></p>""",
            "variables": [
              {
                "name": "instruction",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release_minor.instruction} },
                  { "language": "es", "text": ${i18n.es.release_minor.instruction} },
                ]
              }
            ]
          },
          "blockType": "CONTENT",
          "shownExpr": null
        },
        {
          "componentType": "PHYSICIAN",
          "institutionType": "PHYSICIAN",
          "hideNumber": true,
          "showFields": true,
          "allowMultiple": true,
          "titleTemplate": {
            "templateType": "TEXT",
            "templateText": "$title",
            "variables": [
              {
                "name": "title",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release_minor.physician_title} },
                  { "language": "es", "text": ${i18n.es.release_minor.physician_title} },
                ]
              }
            ]
          },
          "subtitleTemplate": null,
          "addButtonTemplate": {
            "templateType": "TEXT",
            "templateText": "$add",
            "variables": [
              {
                "name": "add",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release.physician_add} },
                  { "language": "es", "text": ${i18n.es.release.physician_add} },
                ]
              }
            ]
          },
          "blockType": "COMPONENT",
          "shownExpr": null
        },
        {
          "componentType": "INSTITUTION",
          "institutionType": "INITIAL_BIOPSY",
          "hideNumber": true,
          "showFields": true,
          "allowMultiple": false,
          "titleTemplate": {
            "templateType": "TEXT",
            "templateText": "$title",
            "variables": [
              {
                "name": "title",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release_minor.biopsy_title} },
                  { "language": "es", "text": ${i18n.es.release_minor.biopsy_title} },
                ]
              }
            ]
          },
          "subtitleTemplate": null,
          "addButtonTemplate": null,
          "blockType": "COMPONENT",
          "shownExpr": null
        },
        {
          "componentType": "INSTITUTION",
          "institutionType": "INSTITUTION",
          "hideNumber": true,
          "showFields": true,
          "allowMultiple": true,
          "titleTemplate": {
            "templateType": "TEXT",
            "templateText": "$title",
            "variables": [
              {
                "name": "title",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release.others_title} },
                  { "language": "es", "text": ${i18n.es.release.others_title} },
                ]
              }
            ]
          },
          "subtitleTemplate": null,
          "addButtonTemplate": {
            "templateType": "TEXT",
            "templateText": "$add",
            "variables": [
              {
                "name": "add",
                "translations": [
                  { "language": "en", "text": ${i18n.en.release.others_add} },
                  { "language": "es", "text": ${i18n.es.release.others_add} },
                ]
              }
            ]
          },
          "blockType": "COMPONENT",
          "shownExpr": null
        }
      ]
    }
  ]
}
