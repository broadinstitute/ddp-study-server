{
  include required("../snippets/activity-general-form.conf"),
  "studyGuid": "ATCP",
  "activityCode": "REGISTRATION",
  "versionTag": "v1",
  "displayOrder": 1,
  "writeOnce": true,
  "maxInstancesPerUser": 1,
  "translatedNames": [
    {
      "language": "en",
      "text": ${i18n.en.registration_name}
    }
  ],
  "translatedTitles": [
    {
      "language": "en",
      "text": ${i18n.en.registration_title}
    }
  ],
  "translatedSummaries": [
    {
      "statusCode": "CREATED",
      "language": "en",
      "text": ${i18n.en.registration_summary_created}
    },
    {
      "statusCode": "IN_PROGRESS",
      "language": "en",
      "text": ${i18n.en.registration_summary_in_progress}
    },
    {
      "statusCode": "COMPLETE",
      "language": "en",
      "text": ${i18n.en.registration_summary_complete}
    }
  ],
  "elections": [],
  "sections": [
    {
      "nameTemplate": null,
      "icons": [],
      "blocks": [
        {
          "titleTemplate": null,
          "bodyTemplate": {
            "templateType": "HTML",
            "templateText": "$registration_title",
            "variables": [
              {
                "name": "registration_title",
                "translations": [
                  {
                    "language": "en",
                    "text": ${i18n.en.registration_intro}
                  }
                ]
              }
            ]
          },
          "blockType": "CONTENT",
          "shownExpr": null
        },
        {
          "question": {
            "hideNumber": true,
            "questionType": "AGREEMENT",
            "stableId": "REGISTRATION_AGREEMENT",
            "isRestricted": false,
            "isDeprecated": false,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "$registration_agreement",
              "variables": [
                {
                  "name": "registration_agreement",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_agreement}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_agreement_req_hint",
                  "variables": [
                    {
                      "name": "registration_agreement_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_agreement_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_FIRST_NAME",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_first_name_placeholder",
              "variables": [
                {
                  "name": "registration_first_name_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_first_name_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_first_name_req_hint",
                  "variables": [
                    {
                      "name": "registration_first_name_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_first_name_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_LAST_NAME",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_last_name_placeholder",
              "variables": [
                {
                  "name": "registration_last_name_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_last_name_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_last_name_req_hint",
                  "variables": [
                    {
                      "name": "registration_last_name_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_last_name_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_MIDDLE_NAME",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_middle_name_placeholder",
              "variables": [
                {
                  "name": "registration_middle_name_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_middle_name_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": []
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_PREFIX",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_prefix_placeholder",
              "variables": [
                {
                  "name": "registration_prefix_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_prefix_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": []
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required( "../snippets/picklist-question-single-dropdown.conf"),
            "hideNumber": true,
            "picklistLabelTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_gender_label",
              "variables": [
                {
                  "name": "registration_gender_label",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_gender_label}
                    }
                  ]
                }
              ]
            },
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": """<p>$registration_gender_prompt</p>""",
              "variables": [
                {
                  "name": "registration_gender_prompt",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_gender_prompt}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_gender_req_hint",
                  "variables": [
                    {
                      "name": "registration_gender_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_gender_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ],
            "picklistOptions": [
              {
                "stableId": "MALE",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_gender_male",
                  "variables": [
                    {
                      "name": "registration_gender_male",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_gender_male}
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              },
              {
                "stableId": "FEMALE",
                "optionLabelTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_gender_female",
                  "variables": [
                    {
                      "name": "registration_gender_female",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_gender_female}
                        }
                      ]
                    }
                  ]
                },
                "detailLabelTemplate": null,
                "allowDetails": false,
                "exclusive": false
              }
            ]
            "stableId": "REGISTRATION_GENDER"
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/date-question-dob-required.conf"),
            "stableId": "REGISTRATION_DOB",
            "hideNumber": true,
            "renderMode": "SINGLE_TEXT",
            "displayCalendar": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "$registration_dob",
              "variables": [
                {
                  "name": "registration_dob",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_dob}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_dob_req_hint",
                  "variables": [
                    {
                      "name": "registration_dob_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_dob_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required( "../snippets/numeric-question.conf"),
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_phone_placeholder",
              "variables": [
                {
                  "name": "registration_phone_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_phone_placeholder}
                    }
                  ]
                }
              ]
            }
            "stableId": "REGISTRATION_PHONE"
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_STREET_ADDRESS",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_street_address_placeholder",
              "variables": [
                {
                  "name": "registration_street_address_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_street_address_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_street_address_req_hint",
                  "variables": [
                    {
                      "name": "registration_street_address_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_street_address_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/text-question.conf"),
            "stableId": "REGISTRATION_CITY",
            "isRestricted": true,
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "HTML",
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_city_placeholder",
              "variables": [
                {
                  "name": "registration_city_placeholder",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_city_placeholder}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_city_req_hint",
                  "variables": [
                    {
                      "name": "registration_city_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_city_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },
        {
          "question": {
            include required( "../snippets/numeric-question.conf"),
            "stableId": "REGISTRATION_POSTAL_CODE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "",
              "variables": []
            },
            "placeholderTemplate": {
              "templateType": "TEXT",
              "templateText": "$registration_postal",
              "variables": [
                {
                  "name": "registration_postal",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_postal}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_postal_req_hint",
                  "variables": [
                    {
                      "name": "registration_postal_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_postal_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "blockType": "QUESTION",
          "shownExpr": null
        },


        {
          "question": {
            include required("../snippets/picklist-question-country-required-eligible-first.conf"),
            "stableId": "REGISTRATION_COUNTRY",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$registration_country_prompt",
              "variables": [
                {
                  "name": "registration_country_prompt",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_country_prompt}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_country_req_hint",
                  "variables": [
                    {
                      "name": "registration_country_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_country_req_hint}
                        }
                      ]
                    }
                  ]
                }
              }]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": null
        },
        {
          "question": {
            include required("../snippets/picklist-question-state-required.conf"),
            "stableId": "REGISTRATION_STATE",
            "hideNumber": true,
            "promptTemplate": {
              "templateType": "TEXT",
              "templateCode": null,
              "templateText": "$registration_state_prompt",
              "variables": [
                {
                  "name": "registration_state_prompt",
                  "translations": [
                    {
                      "language": "en",
                      "text": ${i18n.en.registration_state_prompt}
                    }
                  ]
                }
              ]
            },
            "validations": [
              {
                "ruleType": "REQUIRED",
                "hintTemplate": {
                  "templateType": "TEXT",
                  "templateText": "$registration_state_req_hint",
                  "variables": [
                    {
                      "name": "registration_state_req_hint",
                      "translations": [
                        {
                          "language": "en",
                          "text": ${i18n.en.registration_state_req_hint}
                        }
                      ]
                    }
                  ]
                }
              },]
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "shownExpr": """
            user.studies["ATCP"].forms["REGISTRATION"].questions["REGISTRATION_COUNTRY"].answers.hasOption ("US")
          """
        },
        {
          "question": {
            include required("../snippets/picklist-question-province-required.conf"),
            "stableId": "REGISTRATION_PROVINCE",
            "hideNumber": true
          },
          "blockType": "QUESTION",
          "blockGuid": null,
          "promptTemplate": {
            "templateType": "TEXT",
            "templateCode": null,
            "templateText": "$registration_province_prompt",
            "variables": [
              {
                "name": "registration_province_prompt",
                "translations": [
                  {
                    "language": "en",
                    "text": ${i18n.en.registration_province_prompt}
                  }
                ]
              }
            ]
          },
          "validations": [
            {
              "ruleType": "REQUIRED",
              "hintTemplate": {
                "templateType": "TEXT",
                "templateText": "$registration_province_req_hint",
                "variables": [
                  {
                    "name": "registration_province_req_hint",
                    "translations": [
                      {
                        "language": "en",
                        "text": ${i18n.en.registration_province_req_hint}
                      }
                    ]
                  }
                ]
              }
            }]
          "shownExpr": """
            user.studies["ATCP"].forms["REGISTRATION"].questions["REGISTRATION_COUNTRY"].answers.hasOption ("CA")
          """
        }
      ]
    },
  ]
}
