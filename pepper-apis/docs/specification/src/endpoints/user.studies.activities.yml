parameters:
  - in: path
    name: user
    required: true
    description: the participant's guid
    schema:
      type: string
  - in: path
    name: study
    required: true
    description: the study's unique identifier
    schema:
      type: string

get:
  operationId: getActivities
  tags:
    - Activities
  summary: summary of a participant's activities
  description: returns a summary for each activity instance a `user` has for a specific `study`, excluding ones that are hidden
  responses:
      200:
        $ref: '../pepper.yml#/components/responses/ActivitiesResponse'
      default:
        $ref: '../pepper.yml#/components/responses/ErrorResponse'

post:
  operationId: createActivity
  tags:
    - Activities
  summary: create a new instance of an activity
  description: Given an `activityCode`, the server will create a new instance of the activity for the specified user if the configured conditions for the activity is met.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - activityCode
          properties:
            activityCode:
              description: activity to create a new instance from
              type: string
              example: ABCDEFGH12
  responses:
      200:
        description: successfully created a new instance of the specified activity
        content:
          application/json:
            schema:
              type: object
              required:
                - instanceGuid
              properties:
                instanceGuid:
                  type: string
                  example: ABCDEFGH12
      400:
        description: invalid or missing required payload
        content:
          application/json:
            schema:
              $ref: '../pepper.yml#/components/schemas/Error.BadPayload'
      404:
        description: the user, study, or activity is not found
        content:
          application/json:
            schema:
              $ref: '../pepper.yml#/components/schemas/Error.UserStudyActivityNotFound'
      422:
        description: activity instance failed to be created
        content:
          application/json:
            schema:
              $ref: '../pepper.yml#/components/schemas/Error.TooManyInstances'
      default:
        $ref: '../pepper.yml#/components/responses/ErrorResponse'
