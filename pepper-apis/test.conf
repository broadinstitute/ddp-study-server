# Use this file to run local tests using a disposable in-memory database
# while connecting to other environment-specific resources


{
  "apiBaseUrl": "http://localhost:5555",
  # If set to true, tests will use MySQL from Docker container and dbUrl and housekeepingDbUrl will be ignored
  "useDisposableTestDbs": true,
  "defaultTimezone": "UTC",
  "maxConnections": 20,
  "port": 5555,
  "doLiquibase": true,
  # If set to true, will run liquibase migrations in DataDonationPlatform startup.
  "doLiquibaseInStudyServer": true,
  "threadTimeout": 30000,
  "restrictRegisterRoute": false,
  "restrictAuth0LogEventRoute": false,
  "dsmBaseUrl": "https://dsm-dev.datadonationplatform.org:443",
  "dsmJwtSecret": "Dsm test secret!",
  "dsmJwtSigner": "org.broadinstitute.kdux",
  "dbApiInstance": "pepper-dev",
  "dbDsmInstance": "dev-dsm",
  "dbHousekeepingInstance": "housekeeping-dev1",
  "auth0": {
    "domain": "https://ddp-dev.auth0.com/",
    "domain2": "https://ddp-dev3.auth0.com/",
    "encryptionSecret": "droppinglike24flies",
    "clientId": "FgO1GO4ZMTKl41GO10QJf6GGsv3LGuRE",
    "clientName": "predeployment-testing",
    "clientSecret": "LIxfAgkDq0otfsZv-Tk-s2h-NeYZYnvxxQEJHlvkdnXNF3jUyc0uCYvtMYDi885x",
    "testUser": "testuser@datadonationplatform.org",
    "testUserPassword": "12345678Aa",
    "testUserAuth0Id": "auth0|5bc73d85c07a357ae7ec4f71",
    "testUserGuid": "19i3-test-user-48f0",
    "managementApiClientId": "uhSk4pSVqqJaj5p1Cqd5IP4iteI5Un5D",
    "managementApiClientId2": "UHq5KyJ2CHTw8bjnxTfe2o9h6Mnql8pn",
    "managementApiSecret": "Kkh-ClV81BECNXwQ19zDf42w-lhUWeuO90gh2bO-vifpU7CiRXY_h4C-TUf18_Th",
    "managementApiSecret2": "EUq77OigA6F5KK9SHVOWyqic4U1NxuDm5wZixtSb2euexJAHTw8wzUvJJvRSwTyv",
    "testAdmin": "testadmin@datadonationplatform.org",
    "testAdminPassword": "12345678Aa",
    "testAdminUserAuth0Id": "auth0|5bc73da07574ac516351a1f3",
    "dsmApiAudience": "https://dsm.datadonationplatform.org",
    "dsmClientId": "748BLGXEaRRwQqnk95MV9kpwT0n0fuIW",
    "dsmClientSecret": "sQN6ny2JgZtWEI-vQi2XTmz_xj-czgee4arKaP1abngLYkLxbjiC_YSEJQqi3vBc",
    "backendTestClientId": "ohaL5lylXNKGlZqvDfDv85jLTblqhNRw",
    "backendTestClientId2": "y16xvdFw5XbQnhSpjKgwwoutuj4Y1n0a",
    "backendTestSecret": "uZWY8DWj86DGFmGrtnv1R5gfwq0HxfGzRcMwg2M5a8DdjxGE6IdfpOdv3Srv4Unt",
    "backendTestSecret2": "Z8A0OXhN5hcdS-NROPlysdROgZ4lA0ITouj7msNKgAW6jn2yVDw7er8zUtBeB_Re",
    "backendTestClientName": "backend-testing",
    "backendTestClientName2": "backend-testing2"
  },
  "auth0LogEvents": {
    "token": ""
  },
  "sendGridEvents": {
    "verificationKey": ""
  },
  "rateLimit": {
    "apiLimitBurst": 100,
    "apiLimitRate": 100
  },
  "googleGeocodingApiKey": "AIzaSyAbql7ofi8--iwU_0hIHA7EC-m6jMbfVdQ",
  "jcacheConfigurationFile": "src/test/resources/redisson-test-jcache.yaml",
  "redisServerAddress":"redis://127.0.0.1:6379",
  "kits": {
      "checkEnabled": true,
      "intervalSecs": 30,
      "batchSize": 300
  },
  "elasticsearch": {
    "syncEnabled": false,
    "syncIntervalSecs": 10
  },
  "elasticsearchUrl": "http://localhost:9200",
  "elasticsearchPassword": "",
  "elasticsearchUsername": "",
  "elasticsearchBatchSize": 100,
  "healthcheckPassword": "3030dkd8uj3ed19eindbdfoi1od",
  "easyPostApiKey": "cueqNZUb3ldeWTNX7MU3Mel8UXtaAMUi",
  # by default, boot in-processs for testing.  change rendered .conf file manually for local development
  "bootTestAppInSeparateProcess": false,
  "baseTestUrl": "http://localhost:5555",
  "socialTestEmail": "datadonationplatform@gmail.com",
  "socialTestPassword": "DSPDDP123",
  "usePubSubEmulator": true,
  "pubSubProject": "testing",
  "runScheduler": false,
  "sendMetrics": false,
  "requireDefaultGcpCredentials": false,
  "googleProjectId": "broad-ddp-dev",
  "fileUploads": {
      "uploadsBucket": "ddp-local-file-uploads",
      "scannedBucket": "ddp-local-file-scanned",
      "quarantineBucket": "ddp-local-file-quarantine",
      "maxFileSizeBytes": 2000000,
      "maxSignedUrlMins": 5,
      "removalExpireTime": 1,
      "removalExpireUnit": "DAYS",
      "removalBatchSize": 100,
      "enableScanResultHandler": false,
      "scanResultSubscription": "cf-file-scan-result-local-hkeep-sub",
      "signerServiceAccount": {
        "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
        "auth_uri": "https://accounts.google.com/o/oauth2/auth",
        "client_email": "ddp-file-uploader@broad-ddp-dev.iam.gserviceaccount.com",
        "client_id": "109909558964788304382",
        "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/ddp-file-uploader%40broad-ddp-dev.iam.gserviceaccount.com",
        "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCN+EwXospVOpy6\nkNl/5OoSw4XVYtJ2TKXqETbtE8heTanXsEqPK54l64eXC5bocnHUUXmYJfCnP7T4\nvbtxBGVw6vF5cv32OUr5JIfVJymTxeuYtyobNjjnVh86N+r94+L6tTYW0PN092VZ\ne77JohcWAU5lHVvAKWPJEarCrSQc7rYSI2HxYBsbqRoqwZAEt57VdLk3R+hQeGzp\njQHqB/amUBpkA1qPl710apVhUqzgi1FgdziwYPSxtABlMYVn7wNE5kzXoBNZQNhu\nOtnTNLACDKfWypr13Z4C5PRZ0mfjk7mHtIz4eD/5Nod/FrpM/Lmte9BLLoRy3rK6\nFEjBfen/AgMBAAECggEAPOKBb5mHAGo0kOZSAMFhiU6E9PB+pfFVLj7XuXDEe3z/\nG9sk/qWMG2MZMTPtMh7ypkWSyidrP67Yo9xqqJtkDbsUeCtSsuf7OUHrZwR2lkNJ\nOKNE0Yq9eKi8l7EnfF7hFvfkDIDsB/uZYXjqZ3q2P9+riT2//XdCrhZ/jyHF3Qn3\nL/66wjBNOCq0rQGTolwAbIQhpmG74mS2q67flvjnHckaUO3b7oCTYInqJWErqWJp\nnca51ZWTRvPm5YtSz/78hM+Uzar7hLhR7OksdJTPw6soX3lB6CO0FKxvXHKycgmH\nf4l8tFB9lUKMqu9xv8etCzLqgSLiN6DG7uhcKO3x8QKBgQDGjxPiohz43E9uLffY\nwimw9bvvWWYZHnXZF7Aij1HQERaNYaFFu3RYBMYGbMqpucxL/ZdS2sAtDpWPYzCf\nP7bcTV8Jt7PSoKY18zUrFy1oMGqQ1NYXSjjSkXmq1dtoBklVkF2P5H2VIjKUQ+Oi\nBea2r/3AWIzaQ8gP/O6Vjs6rXQKBgQC3ClbBHk3ebBdflspBq+MRMQSkPpUKoqzb\noGiQrXc6sBxZM1khDH8Lugc7eWkWyLFCHoEHS7uM9MrF9SP2ikgtotZ43vbAyZ61\nmNCWJOQHKcs5ETS3P2KX0DbglDax/9RsTLsftbuoEr84Dw8znCCD5vVr0HsNGKLm\nShjBodLxCwKBgAyzWjJE7FV+whXqGtBimwgWr86/iShSKneYbEvJnxIQBcFFXWt4\nchivNXtzugLhP5AcyHEkTOaU6DwjvBhzmt68lDeq6HWwkPEifWQkN2NStX5OHuOe\ne8P8SiwDQeWFgWtXsKRjmSTQ6ytQrF7QwdEtsK18/IV5kHJ1W011tQKBAoGAGvc7\n9rF3OVhlTSDS5T/kcOjuzR+nJ2z12FlWblIP6aZ+VqnY7KSBpwGeBSYK1F92tc32\nplOC6u45XVaTGMQghBCkViRK5/YMGqbLvALtURzYIq0lPgXpiYIUQ5uyPyD4c4gO\nXUqRvd4dK64USD8tDyGccGjDaBeEEDdEVGp5wCcCgYEAwUksSPsr5/HzYXgpHxc/\nN+53bvIrNGop6QgMrh7uYxfW+UgMQlTaCTPzLydpGhS4WMlEIPsccoT16nJZo60O\nKuLfVjHNPN7ugAvujfEpnkOtb144o6NFAgUWESKR6BdOm8DBIrRrglR6ZysjdIOk\nx6hX9iLzUZMCV1mGZ6AbXPY=\n-----END PRIVATE KEY-----\n",
        "private_key_id": "53fe44c6866b9aa140b520e09b34f8ddfa25a720",
        "project_id": "broad-ddp-dev",
        "token_uri": "https://oauth2.googleapis.com/token",
        "type": "service_account"
      },
  },
  "pdfArchiveBucket": "pepper-pdf-dev",
  "pdfArchiveUseFilesystem": true,
  "pubsub": {
    "enableHousekeepingTasks": true,
    "housekeepingTasksSubscription": "local-housekeeping-tasks-sub",
    "pubSubTasksSubscription": "local-dsm-to-dss-tasks-sub",
    "pubSubTasksResultTopic": "local-dss-to-dsm-results",
    "pubSubTaskSubscriberAwaitRunningTimeout": 30
  },
  "studyExportBucket": "ddp-dev-study-exports-testing",
  "schedules": {
//    "checkAgeUp": "0 0 7 ? * * *",
    "checkAgeUp": "off",
//    "dbBackup": "0 30 4,10,14 ? * * *",
    "dbBackup": "off",
//    "dbBackupCheck": "0 */30 * ? * *",
    "dbBackupCheck": "off",
//    "drugLoader": "0 0 8,20 ? * * *",
    "drugLoader": "off",
//    "cancerLoader": "0 0 8,20 ? * * *",
    "cancerLoader": "off",
//    "studyExport": "0 0 9 ? * * *",
    "studyExport": "off",
//    "elasticsearchExport": "0 0 3 ? * * *",
    "elasticsearchExport": "off",
//    "tempUserCleanup": "0 30 5 ? * * *",
    "tempUserCleanup": "off",
  },
  "housekeepingMaxConnections": 5,
  "housekeepingDbUrl": "jdbc:mysql://127.0.0.1:3306/housekeepinglocal?user=pepper&password=broad&useSSL=false&serverTimezone=UTC",
  "sendgrid": {
        "proxy": null,
        "fromName": "Pepper Local",
        "fromEmail": "noreply@datadonationplatform.org",
		"eventsVerificationKey": ""
  },
  "sendgridToken": "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",
  "sendgridTemplates": {
    "currentActivity": {
      "template": "c3eb93e7-05a8-47c6-9c8c-4a6d88ca54cd"
    },
    "emailTesting": {
      "template": "6c1c165b-88ee-4b8f-98fc-04e0e73ba8ce",
      "version": "e6736bc3-d328-4c9f-bd02-4278b7c417bc"
    },
    "joinMailingList": {
      "template": "16a5de5a-3102-4527-911c-ae1869d5e3b8"
    },
    "userNotEnrolledInStudy": {
      "template": "bfb0d8c1-f127-4ebf-a2fd-faef23b36a1f"
    }
  }
}






